{"ast":null,"code":"var _jsxFileName = \"D:\\\\Codes\\\\ReactJS\\\\BookMySlot-main\\\\BookMySlot-main\\\\Client\\\\src\\\\Pages\\\\Professional-Page-templete\\\\Professional.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\n// import MyCalendar from './MyCalendar';\nimport { toast } from 'react-toastify';\nimport Calendar from 'react-calendar';\nimport './style/MyCalendar.css';\nimport './style/professional.css';\nimport user_img from '../../Pages/User-Home-Page/images/reshma.png';\nimport axios from 'axios';\nimport Navbar from \"../../Components/Navbar/Navbar\";\nimport Footer from \"../../Components/Footer/Footer\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Professional = props => {\n  _s();\n  // let navigate = useNavigate();\n  const [professional, setProfessional] = useState({}); // storing professional data.\n  const [user, setUser] = useState({}); // storing professional data.\n  const [reviews, setReviews] = useState([]); // storing professional reviews.\n  const [date, setDate] = useState(new Date()); // selected date for booking.\n  const [selectedTime, setSelectedTime] = useState(''); // selected time slot.\n  const [slotId, setSlotId] = useState(''); // selected slot id for style changing.\n  const [timeSlots, setTimeSlots] = useState([]); // all the timeslots.\n  const [filteredTimeSlots, setFilteredTimeSlots] = useState([]); // timeslots for a particular day.\n  const [cost, setCost] = useState(199); // cost of each appointment.\n  const [selectedSlot, setSelectedSlot] = useState(null);\n  const [avgRating, setAvgRating] = useState(0); // average of all the reviews.\n  const [rating, setRating] = useState(0); // write review section.\n  const [review, setReview] = useState(''); // write review section.\n\n  // Function to calculate average rating for a professional\n  const calculateAverageRating = () => {\n    let totalRatings = 0;\n    const numberOfRatings = reviews.length || 0;\n    if (numberOfRatings === 0) {\n      return 0;\n    }\n    reviews.forEach(review => {\n      totalRatings += parseInt(review.rate);\n    });\n    setAvgRating((totalRatings / numberOfRatings).toFixed(1)); // rounding to 1 decimal places\n\n    return totalRatings / numberOfRatings;\n  };\n\n  // API CALL TO FETCH DATA OF THE SELECTED PROFESSIONAL.\n  const fetchUserData = async () => {\n    try {\n      const response = await fetch(`http://localhost:5000/api/auth/getuser`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"auth-token\": localStorage.getItem('token')\n        }\n      });\n      const json = await response.json();\n      setUser(json);\n      console.log(json);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  // API CALL TO FETCH DATA OF THE SELECTED PROFESSIONAL.\n  const particularProfessional = async () => {\n    try {\n      // Extract profID from the URL\n      const url = new URL(window.location.href);\n      const profID = url.pathname.split('/').pop();\n      if (!profID) {\n        // Handle the case where profID is not defined properly\n        throw new Error('profID is not defined');\n      }\n      // console.log(profID);\n      // API call.\n      const response = await fetch(`http://localhost:5000/api/authProfessional/particularProfessional/${profID}`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      const json = await response.json();\n      setProfessional(json);\n      setTimeSlots(json.yearlyTimings);\n      setCost(json.fees);\n      setReviews(json.reviews);\n      calculateAverageRating();\n    } catch (error) {}\n  };\n\n  // API TO HANDLE PAYMENT.\n  const handlePayment = async () => {\n    try {\n      if (!localStorage.getItem(\"token\")) {\n        alert(\"You have not logged in.\");\n        return navigate(\"/\");\n      }\n      // console.log(\"Hanlde\")\n      const orderUrl = \"http://localhost:5000/api/pay/orders\";\n      const {\n        data\n      } = await axios.post(orderUrl, {\n        amount: cost\n      }, {\n        headers: {\n          'Access-Control-Allow-Origin': '*',\n          'Access-Control-Allow-Methods': 'POST, GET, OPTIONS, PUT, DELETE',\n          'Access-Control-Allow-Headers': 'Content-Type, X-Auth-Token, Origin, Authorization'\n        }\n      });\n      console.log(\"2nd\");\n      console.log(data);\n      initPayment(data.data);\n    } catch (error) {\n      toast.error('Something Went wrong');\n      console.log(error);\n    }\n  };\n\n  // PAYMENT API.\n  const initPayment = data => {\n    console.log(\"In init\");\n    const options = {\n      key: \"rzp_test_zkRk5Km3mrtYWp\",\n      amount: data.amount,\n      currency: data.currency,\n      description: \"Test Transaction\",\n      order_id: data.id,\n      handler: async response => {\n        try {\n          const verifyUrl = \"http://localhost:5000/payment/verify\";\n          const {\n            data\n          } = await axios.post(verifyUrl, response, {\n            headers: {\n              'Access-Control-Allow-Origin': '*',\n              'Access-Control-Allow-Methods': 'POST, GET, OPTIONS, PUT, DELETE',\n              'Access-Control-Allow-Headers': 'Content-Type, X-Auth-Token, Origin, Authorization'\n            }\n          });\n          console.log(data);\n          if (data.status) {\n            alert(\"Purchased PrepPro Succesfully\");\n            //Update in DB\n            //fetch user id\n            // userDetails(); \n\n            // navigate(\"\") --> to a page to show order and pay id \n            navigate(\"/user/appointments\");\n          }\n        } catch (error) {\n          console.log(error);\n        }\n      },\n      theme: {\n        color: \"#3399cc\"\n      }\n    };\n    console.log(options);\n    const rzp1 = new window.Razorpay(options);\n    rzp1.open();\n    bookAppointment();\n  };\n\n  // API TO BOOK APPOINTMENT.\n  const bookAppointment = async () => {\n    try {\n      // Extract profID from the URL\n      const token = localStorage.getItem(\"token\");\n      console.log('Auth Token:', token);\n      const url = new URL(window.location.href);\n      const profID = url.pathname.split('/').pop();\n      // const dateID = x;\n      // const slotID = ;\n      if (!profID) {\n        throw new Error('profID is not defined');\n      }\n\n      // Make sure selectedTime and date are defined\n      if (!selectedTime || !date) {\n        throw new Error('selectedTime or date is not defined');\n      }\n\n      // Get the components of the date\n      const year = date.getFullYear();\n      const month = (date.getMonth() + 1).toString().padStart(2, '0'); // Months are 0-indexed, so we add 1\n      const day = date.getDate().toString().padStart(2, '0');\n\n      // Combine the components into the desired format\n      const formattedDate = `${year}-${month}-${day}`;\n\n      // console.log(profID);\n      console.log(date.toDateString());\n      const update = await fetch(`http://localhost:5000/api/professionalRoutes/updateSlotAvailability/${profID}/${slotId}`, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n          // \"auth-token\": localStorage.getItem(\"token\")\n        },\n\n        body: JSON.stringify({\n          day: formattedDate\n        })\n      });\n      console.log(update);\n\n      // API call.\n      const response = await fetch(`http://localhost:5000/api/booking/bookappointment/${profID}`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"auth-token\": localStorage.getItem(\"token\")\n        },\n        body: JSON.stringify({\n          timing: selectedTime,\n          appointmentDate: date.toDateString(),\n          bookingStatus: 'Future Appointment',\n          paymentStatus: 'Paid'\n        })\n      });\n      const json = await response.json();\n      toast.success('Appointment Scheduled Successfully');\n    } catch (error) {\n      if (error.response) {\n        // The request was made, and the server responded with a status code\n        console.error('Error Response Data:', error.response.data);\n        console.error('Error Status:', error.response.status);\n        console.error('Error Headers:', error.response.headers);\n      } else {\n        // Something happened in setting up the request that triggered an Error\n        console.error('Error Message:', error.message);\n      }\n    }\n  };\n  useEffect(() => {\n    if (localStorage.getItem(\"token\")) {\n      particularProfessional();\n      fetchUserData();\n      //eslint-disable-next-line\n    } else {\n      navigate(\"/user/login\");\n    }\n  }, []);\n  useEffect(() => {\n    particularProfessional();\n    // Filter appointments based on selected date\n    const filtered = timeSlots.filter(timeslot => new Date(timeslot.day).toDateString() === date.toDateString());\n    setFilteredTimeSlots(filtered);\n  }, [date, timeSlots, selectedTime]);\n  const handleTimeSlotClick = (timeSlot, id) => {\n    setSelectedTime(timeSlot);\n    setSlotId(id);\n    console.log(selectedTime);\n    console.log(date);\n  };\n  const onChange = date => {\n    console.log(date);\n    setDate(date);\n  };\n\n  // Function to generate star icons based on the rating\n  const generateStarIcons = rating => {\n    const fullStars = Math.floor(rating);\n    const hasHalfStar = rating % 1 !== 0;\n    const stars = [];\n    for (let i = 0; i < fullStars; i++) {\n      stars.push( /*#__PURE__*/_jsxDEV(\"svg\", {\n        xmlns: \"http://www.w3.org/2000/svg\",\n        width: \"25\",\n        height: \"25\",\n        fill: \"#4EA1D3\",\n        className: \"bi bi-star-fill mx-1\",\n        viewBox: \"0 0 16 16\",\n        children: /*#__PURE__*/_jsxDEV(\"path\", {\n          d: \"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 11\n        }, this)\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 9\n      }, this));\n    }\n    if (hasHalfStar) {\n      stars.push( /*#__PURE__*/_jsxDEV(\"svg\", {\n        xmlns: \"http://www.w3.org/2000/svg\",\n        width: \"25\",\n        height: \"25\",\n        fill: \"#4EA1D3\",\n        className: \"bi bi-star-half mx-1\",\n        viewBox: \"0 0 16 16\",\n        children: /*#__PURE__*/_jsxDEV(\"path\", {\n          d: \"M5.354 5.119 7.538.792A.516.516 0 0 1 8 .5c.183 0 .366.097.465.292l2.184 4.327 4.898.696A.537.537 0 0 1 16 6.32a.548.548 0 0 1-.17.445l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256a.52.52 0 0 1-.146.05c-.342.06-.668-.254-.6-.642l.83-4.73L.173 6.765a.55.55 0 0 1-.172-.403.58.58 0 0 1 .085-.302.513.513 0 0 1 .37-.245l4.898-.696zM8 12.027a.5.5 0 0 1 .232.056l3.686 1.894-.694-3.957a.565.565 0 0 1 .162-.505l2.907-2.77-4.052-.576a.525.525 0 0 1-.393-.288L8.001 2.223 8 2.226v9.8z\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 11\n        }, this)\n      }, \"half\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 9\n      }, this));\n    }\n    const remainingStars = 5 - fullStars - (hasHalfStar ? 1 : 0);\n    for (let i = 0; i < remainingStars; i++) {\n      stars.push( /*#__PURE__*/_jsxDEV(\"svg\", {\n        xmlns: \"http://www.w3.org/2000/svg\",\n        width: \"25\",\n        height: \"25\",\n        fill: \"#4EA1D3\",\n        className: \"bi bi-star mx-1\",\n        viewBox: \"0 0 16 16\",\n        children: /*#__PURE__*/_jsxDEV(\"path\", {\n          d: \"M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 11\n        }, this)\n      }, `empty_${i}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 9\n      }, this));\n    }\n    // console.log(stars);\n    return stars;\n  };\n\n  // GIVE RATING.\n  const handleRating = value => {\n    setRating(value);\n  };\n\n  // WRITE REVIEW.\n  const handleReviewChange = event => {\n    setReview(event.target.value);\n  };\n\n  // API TO WRITE REVIEW.\n  const writeReview = async () => {\n    try {\n      // Extract profID from the URL\n      const url = new URL(window.location.href);\n      const profID = url.pathname.split('/').pop();\n      if (!profID) {\n        // Handle the case where profID is not defined properly\n        throw new Error('profID is not defined');\n      }\n      // console.log(profID);\n      // API call.\n      const response = await fetch(`http://localhost:5000/api/writeReview/review/${profID}`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"auth-token\": localStorage.getItem(\"token\")\n        },\n        body: JSON.stringify({\n          rate: rating,\n          review: review\n        })\n      });\n      const json = await response.json();\n      // Reset the review state after successful submission\n      setReview('');\n      setRating(0);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  // Check if the logged-in user has already submitted a review\n  const hasUserReviewed = reviews.some(review => review.user_id === user._id);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-fluid no-padding\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"mt-3\",\n            children: \"Profession Profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card mb-3 mt-3\",\n            style: {\n              width: '100%',\n              boxShadow: '0 0 10px grey',\n              borderRadius: '10px'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row g-0\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-2\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: user_img,\n                  className: \"img-fluid rounded-start\",\n                  alt: \"...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 401,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 400,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-7\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card-body\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                    className: \"card-title\",\n                    style: {\n                      fontWeight: 700\n                    },\n                    children: professional.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 405,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"card-text\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"px-2 py-1 text-white mr-3\",\n                      style: {\n                        backgroundColor: '#F4A4A4',\n                        borderRadius: '7px'\n                      },\n                      children: avgRating\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 407,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"stars\",\n                      children: generateStarIcons(avgRating)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 409,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                      className: \"mx-3\",\n                      children: [reviews.length, \" Ratings \"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 413,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 406,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"card-text\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"px-2 py-1 text-white mr-3\",\n                      style: {\n                        backgroundColor: '#F4A4A4',\n                        borderRadius: '7px'\n                      },\n                      children: \"Profession: \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 416,\n                      columnNumber: 23\n                    }, this), professional.profession]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 415,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"card-text\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"px-2 py-1 text-white mr-3\",\n                      style: {\n                        backgroundColor: '#F4A4A4',\n                        borderRadius: '7px'\n                      },\n                      children: \"Address: \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 419,\n                      columnNumber: 23\n                    }, this), \" \", professional.address]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 418,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"card-text text-secondary\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"px-2 py-1 text-white mr-3\",\n                      style: {\n                        backgroundColor: '#F4A4A4',\n                        borderRadius: '7px'\n                      },\n                      children: \"City: \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 422,\n                      columnNumber: 23\n                    }, this), \" \", professional.city]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 421,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"card-text text-secondary\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"px-2 py-1 text-white mr-3\",\n                      style: {\n                        backgroundColor: '#F4A4A4',\n                        borderRadius: '7px'\n                      },\n                      children: \"Fees: \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 425,\n                      columnNumber: 23\n                    }, this), \" \", professional.fees, \" per session\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 424,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 404,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 403,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 399,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n            className: \"mt-5\",\n            style: {\n              border: '1px dashed #9AA4EC'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 431,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-4 mt-2\",\n          children: /*#__PURE__*/_jsxDEV(Calendar, {\n            onChange: onChange,\n            value: date\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 435,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-100 d-none d-md-block\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-8\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card mb-3 mt-3\",\n            style: {\n              width: '100%',\n              border: 'none'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Reviews\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 445,\n              columnNumber: 15\n            }, this), !hasUserReviewed && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mx-3 writeReview\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [...Array(5)].map((_, index) => /*#__PURE__*/_jsxDEV(\"svg\", {\n                  xmlns: \"http://www.w3.org/2000/svg\",\n                  width: \"30\",\n                  height: \"30\",\n                  style: {\n                    cursor: 'pointer'\n                  },\n                  fill: index < rating ? 'yellow' : 'currentColor',\n                  className: \"mx-1 bi bi-star\",\n                  viewBox: \"0 0 16 16\",\n                  onClick: () => handleRating(index + 1),\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    d: \"M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 461,\n                    columnNumber: 25\n                  }, this)\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 450,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 448,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                style: {\n                  borderRadius: '18px',\n                  padding: '20px'\n                },\n                name: \"review\",\n                value: review,\n                onChange: handleReviewChange,\n                cols: \"120\",\n                rows: \"3\",\n                placeholder: \"Write a review...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 465,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn\",\n                onClick: () => {\n                  if (rating && review) {\n                    writeReview();\n                  } else {\n                    alert('Write something in review');\n                  }\n                },\n                children: \"Submit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 474,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 447,\n              columnNumber: 17\n            }, this), reviews && reviews.map((item, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card mb-3 mt-3\",\n              style: {\n                width: '100%',\n                boxShadow: '0 0 3px grey',\n                borderRadius: '20px'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row g-0\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-2\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: user_img,\n                    className: \"img-fluid rounded-start\",\n                    alt: \"...\",\n                    style: {\n                      height: '80px'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 490,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 489,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-7\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"card-body\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                      className: \"card-title\",\n                      style: {\n                        fontWeight: 700,\n                        fontSize: '15px'\n                      },\n                      children: item.username\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 494,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      style: {\n                        width: '135%'\n                      },\n                      className: \"\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        children: item.review\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 497,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        style: {\n                          fontStyle: 'italic',\n                          float: 'right'\n                        },\n                        children: new Date(item.date).toDateString()\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 498,\n                        columnNumber: 23\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 496,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 493,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 492,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"card-text my-4\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"stars\",\n                    children: generateStarIcons(item.rate)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 507,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 502,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 488,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 487,\n              columnNumber: 17\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 444,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"mt-3\",\n            children: [\"Available Slots on \", date.toDateString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 520,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4 container\",\n            children: [filteredTimeSlots.map((slot, index) =>\n            /*#__PURE__*/\n            // <div className=\"\">\n            _jsxDEV(\"div\", {\n              className: \"row\",\n              children: slot.timeslots.map((eachSlot, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-4\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  style: {\n                    backgroundColor: eachSlot.status === 'Not Available' ? 'grey' : 'white',\n                    border: eachSlot.status === 'Not Available' ? '2px solid grey' : '2px solid green',\n                    color: eachSlot.status === 'Not Available' ? 'white' : 'green',\n                    cursor: eachSlot.status === 'Not Available' ? 'not-allowed' : 'pointer',\n                    backgroundColor: selectedSlot === eachSlot._id ? 'green' : eachSlot.status === 'Not Available' ? 'grey' : 'white',\n                    color: selectedSlot === eachSlot._id ? 'white' : eachSlot.status === 'Not Available' ? 'white' : 'green'\n                  },\n                  className: \"time-slot my-2 btn\",\n                  onClick: () => {\n                    if (eachSlot.status !== 'Not Available') {\n                      handleTimeSlotClick(eachSlot.timeFrame, eachSlot._id);\n                      setSelectedSlot(eachSlot._id);\n                    }\n                  },\n                  children: eachSlot.timeFrame\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 527,\n                  columnNumber: 23\n                }, this)\n              }, i, false, {\n                fileName: _jsxFileName,\n                lineNumber: 526,\n                columnNumber: 21\n              }, this))\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 524,\n              columnNumber: 17\n            }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                if (date && selectedTime) {\n                  handlePayment();\n                } else {\n                  alert('Select a date and timeslot to book an appointment');\n                }\n              },\n              className: \" my-3 btn btn-success\",\n              children: \"Book Appointment\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 552,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 521,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 519,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 565,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(Professional, \"L58QF2CINpT1r9y2sKI8SVTNnEo=\");\n_c = Professional;\nexport default Professional;\nvar _c;\n$RefreshReg$(_c, \"Professional\");","map":{"version":3,"names":["React","useState","useEffect","toast","Calendar","user_img","axios","Navbar","Footer","jsxDEV","_jsxDEV","Fragment","_Fragment","Professional","props","_s","professional","setProfessional","user","setUser","reviews","setReviews","date","setDate","Date","selectedTime","setSelectedTime","slotId","setSlotId","timeSlots","setTimeSlots","filteredTimeSlots","setFilteredTimeSlots","cost","setCost","selectedSlot","setSelectedSlot","avgRating","setAvgRating","rating","setRating","review","setReview","calculateAverageRating","totalRatings","numberOfRatings","length","forEach","parseInt","rate","toFixed","fetchUserData","response","fetch","method","headers","localStorage","getItem","json","console","log","error","particularProfessional","url","URL","window","location","href","profID","pathname","split","pop","Error","yearlyTimings","fees","handlePayment","alert","navigate","orderUrl","data","post","amount","initPayment","options","key","currency","description","order_id","id","handler","verifyUrl","status","theme","color","rzp1","Razorpay","open","bookAppointment","token","year","getFullYear","month","getMonth","toString","padStart","day","getDate","formattedDate","toDateString","update","body","JSON","stringify","timing","appointmentDate","bookingStatus","paymentStatus","success","message","filtered","filter","timeslot","handleTimeSlotClick","timeSlot","onChange","generateStarIcons","fullStars","Math","floor","hasHalfStar","stars","i","push","xmlns","width","height","fill","className","viewBox","children","d","fileName","_jsxFileName","lineNumber","columnNumber","remainingStars","handleRating","value","handleReviewChange","event","target","writeReview","hasUserReviewed","some","user_id","_id","style","boxShadow","borderRadius","src","alt","fontWeight","name","backgroundColor","profession","address","city","border","Array","map","_","index","cursor","onClick","padding","cols","rows","placeholder","item","fontSize","username","fontStyle","float","slot","timeslots","eachSlot","timeFrame","_c","$RefreshReg$"],"sources":["D:/Codes/ReactJS/BookMySlot-main/BookMySlot-main/Client/src/Pages/Professional-Page-templete/Professional.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\n// import MyCalendar from './MyCalendar';\nimport { toast } from 'react-toastify';\nimport Calendar from 'react-calendar';\nimport './style/MyCalendar.css';\nimport './style/professional.css';\nimport user_img from '../../Pages/User-Home-Page/images/reshma.png';\nimport axios from 'axios';\nimport Navbar from \"../../Components/Navbar/Navbar\";\nimport Footer from \"../../Components/Footer/Footer\";\n\nconst Professional = (props) => {\n  // let navigate = useNavigate();\n  const [professional, setProfessional] = useState({});     // storing professional data.\n  const [user, setUser] = useState({});     // storing professional data.\n  const [reviews, setReviews] = useState([]);               // storing professional reviews.\n  const [date, setDate] = useState(new Date());             // selected date for booking.\n  const [selectedTime, setSelectedTime] = useState('');     // selected time slot.\n  const [slotId, setSlotId] = useState('');                 // selected slot id for style changing.\n  const [timeSlots, setTimeSlots] = useState([]);           // all the timeslots.\n  const [filteredTimeSlots, setFilteredTimeSlots] = useState([]);   // timeslots for a particular day.\n  const [cost, setCost] = useState(199);                            // cost of each appointment.\n  const [selectedSlot, setSelectedSlot] = useState(null);\n  const [avgRating, setAvgRating] = useState(0);            // average of all the reviews.\n  const [rating, setRating] = useState(0);                  // write review section.\n  const [review, setReview] = useState('');                 // write review section.\n\n\n  // Function to calculate average rating for a professional\n  const calculateAverageRating = () => {\n    let totalRatings = 0;\n    const numberOfRatings = reviews.length || 0;\n    if (numberOfRatings === 0) {\n      return 0;\n    }\n    reviews.forEach((review) => {\n      totalRatings += parseInt(review.rate);\n    });\n\n    setAvgRating((totalRatings / numberOfRatings).toFixed(1)); // rounding to 1 decimal places\n\n    return totalRatings / numberOfRatings;\n  };\n\n\n  // API CALL TO FETCH DATA OF THE SELECTED PROFESSIONAL.\n  const fetchUserData = async () => {\n    try {\n      const response = await fetch(\n        `http://localhost:5000/api/auth/getuser`,\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"auth-token\": localStorage.getItem('token')\n          },\n        }\n      );\n      const json = await response.json();\n      setUser(json);\n      console.log(json);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  // API CALL TO FETCH DATA OF THE SELECTED PROFESSIONAL.\n  const particularProfessional = async () => {\n    try {\n      // Extract profID from the URL\n      const url = new URL(window.location.href);\n      const profID = url.pathname.split('/').pop();\n      if (!profID) {\n        // Handle the case where profID is not defined properly\n        throw new Error('profID is not defined');\n      }\n      // console.log(profID);\n      // API call.\n      const response = await fetch(\n        `http://localhost:5000/api/authProfessional/particularProfessional/${profID}`,\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n        }\n      );\n      const json = await response.json();\n      setProfessional(json);\n      setTimeSlots(json.yearlyTimings);\n      setCost(json.fees);\n      setReviews(json.reviews);\n      calculateAverageRating();\n    } catch (error) {\n    }\n  };\n\n  // API TO HANDLE PAYMENT.\n  const handlePayment = async () => {\n    try {\n\n      if (!localStorage.getItem(\"token\")) {\n        alert(\"You have not logged in.\");\n        return navigate(\"/\");\n      }\n      // console.log(\"Hanlde\")\n      const orderUrl = \"http://localhost:5000/api/pay/orders\";\n      const { data } = await axios.post(\n        orderUrl,\n        { amount: cost },\n        {\n          headers: {\n            'Access-Control-Allow-Origin': '*',\n            'Access-Control-Allow-Methods': 'POST, GET, OPTIONS, PUT, DELETE',\n            'Access-Control-Allow-Headers': 'Content-Type, X-Auth-Token, Origin, Authorization',\n          },\n        }\n      );\n      console.log(\"2nd\")\n      console.log(data);\n      initPayment(data.data);\n    } catch (error) {\n      toast.error('Something Went wrong');\n      console.log(error);\n    }\n  };\n\n  // PAYMENT API.\n  const initPayment = (data) => {\n    console.log(\"In init\")\n    const options = {\n      key: \"rzp_test_zkRk5Km3mrtYWp\",\n      amount: data.amount,\n      currency: data.currency,\n      description: \"Test Transaction\",\n      order_id: data.id,\n      handler: async (response) => {\n        try {\n          const verifyUrl = \"http://localhost:5000/payment/verify\";\n          const { data } = await axios.post(verifyUrl, response, {\n            headers: {\n              'Access-Control-Allow-Origin': '*',\n              'Access-Control-Allow-Methods': 'POST, GET, OPTIONS, PUT, DELETE',\n              'Access-Control-Allow-Headers': 'Content-Type, X-Auth-Token, Origin, Authorization',\n            },\n          });\n          console.log(data);\n          if (data.status) {\n            alert(\"Purchased PrepPro Succesfully\");\n            //Update in DB\n            //fetch user id\n            // userDetails(); \n\n            // navigate(\"\") --> to a page to show order and pay id \n            navigate(\"/user/appointments\")\n          }\n        } catch (error) {\n          console.log(error);\n        }\n      },\n      theme: {\n        color: \"#3399cc\",\n      },\n    };\n\n    console.log(options)\n    const rzp1 = new window.Razorpay(options);\n\n\n    rzp1.open();\n    bookAppointment();\n  };\n\n  // API TO BOOK APPOINTMENT.\n  const bookAppointment = async () => {\n    try {\n      // Extract profID from the URL\n      const token = localStorage.getItem(\"token\");\nconsole.log('Auth Token:', token);\n\n      const url = new URL(window.location.href);\n      const profID = url.pathname.split('/').pop();\n      // const dateID = x;\n      // const slotID = ;\n      if (!profID) {\n        throw new Error('profID is not defined');\n      }\n\n      // Make sure selectedTime and date are defined\n      if (!selectedTime || !date) {\n        throw new Error('selectedTime or date is not defined');\n      }\n\n      // Get the components of the date\n      const year = date.getFullYear();\n      const month = (date.getMonth() + 1).toString().padStart(2, '0'); // Months are 0-indexed, so we add 1\n      const day = date.getDate().toString().padStart(2, '0');\n\n      // Combine the components into the desired format\n      const formattedDate = `${year}-${month}-${day}`;\n\n      // console.log(profID);\n      console.log(date.toDateString());\n      const update = await fetch(\n        `http://localhost:5000/api/professionalRoutes/updateSlotAvailability/${profID}/${slotId}`,\n        {\n          method: \"PUT\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            // \"auth-token\": localStorage.getItem(\"token\")\n          },\n          body: JSON.stringify({ day: formattedDate })\n        }\n      );\n      console.log(update);\n\n      // API call.\n      const response = await fetch(\n        `http://localhost:5000/api/booking/bookappointment/${profID}`,\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"auth-token\": localStorage.getItem(\"token\")\n          },\n          body: JSON.stringify({ timing: selectedTime, appointmentDate: date.toDateString(), bookingStatus: 'Future Appointment', paymentStatus: 'Paid' })\n        }\n      );\n      const json = await response.json();\n      toast.success('Appointment Scheduled Successfully');\n    } catch (error) {\n      if (error.response) {\n          // The request was made, and the server responded with a status code\n          console.error('Error Response Data:', error.response.data);\n          console.error('Error Status:', error.response.status);\n          console.error('Error Headers:', error.response.headers);\n      } else {\n          // Something happened in setting up the request that triggered an Error\n          console.error('Error Message:', error.message);\n      }\n  }\n  \n  };\n\n\n  useEffect(() => {\n    if (localStorage.getItem(\"token\")) {\n      particularProfessional();\n      fetchUserData();\n      //eslint-disable-next-line\n    } else {\n      navigate(\"/user/login\");\n    }\n  }, []);\n\n\n\n  useEffect(() => {\n    particularProfessional();\n    // Filter appointments based on selected date\n    const filtered = timeSlots.filter(timeslot => new Date(timeslot.day).toDateString() === date.toDateString());\n    setFilteredTimeSlots(filtered);\n  }, [date, timeSlots, selectedTime]);\n\n  const handleTimeSlotClick = (timeSlot, id) => {\n    setSelectedTime(timeSlot);\n    setSlotId(id);\n    console.log(selectedTime);\n    console.log(date);\n  };\n\n  const onChange = (date) => {\n    console.log(date);\n    setDate(date);\n  };\n\n\n  // Function to generate star icons based on the rating\n  const generateStarIcons = (rating) => {\n    const fullStars = Math.floor(rating);\n    const hasHalfStar = rating % 1 !== 0;\n    const stars = [];\n\n    for (let i = 0; i < fullStars; i++) {\n      stars.push(\n        <svg\n          key={i}\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width=\"25\"\n          height=\"25\"\n          fill=\"#4EA1D3\"\n          className=\"bi bi-star-fill mx-1\"\n          viewBox=\"0 0 16 16\"\n        >\n          <path d=\"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z\" />\n        </svg>\n      );\n    }\n\n    if (hasHalfStar) {\n      stars.push(\n        <svg\n          key=\"half\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width=\"25\"\n          height=\"25\"\n          fill=\"#4EA1D3\"\n          className=\"bi bi-star-half mx-1\"\n          viewBox=\"0 0 16 16\"\n        >\n          <path d=\"M5.354 5.119 7.538.792A.516.516 0 0 1 8 .5c.183 0 .366.097.465.292l2.184 4.327 4.898.696A.537.537 0 0 1 16 6.32a.548.548 0 0 1-.17.445l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256a.52.52 0 0 1-.146.05c-.342.06-.668-.254-.6-.642l.83-4.73L.173 6.765a.55.55 0 0 1-.172-.403.58.58 0 0 1 .085-.302.513.513 0 0 1 .37-.245l4.898-.696zM8 12.027a.5.5 0 0 1 .232.056l3.686 1.894-.694-3.957a.565.565 0 0 1 .162-.505l2.907-2.77-4.052-.576a.525.525 0 0 1-.393-.288L8.001 2.223 8 2.226v9.8z\" />\n        </svg>\n      );\n    }\n\n    const remainingStars = 5 - fullStars - (hasHalfStar ? 1 : 0);\n\n    for (let i = 0; i < remainingStars; i++) {\n      stars.push(\n        <svg\n          key={`empty_${i}`}\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width=\"25\"\n          height=\"25\"\n          fill=\"#4EA1D3\"\n          className=\"bi bi-star mx-1\"\n          viewBox=\"0 0 16 16\"\n        >\n          <path d=\"M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z\" />\n        </svg>\n      );\n    }\n    // console.log(stars);\n    return stars;\n  };\n\n  // GIVE RATING.\n  const handleRating = (value) => {\n    setRating(value);\n  };\n\n  // WRITE REVIEW.\n  const handleReviewChange = (event) => {\n    setReview(event.target.value);\n  };\n\n  // API TO WRITE REVIEW.\n  const writeReview = async () => {\n    try {\n      // Extract profID from the URL\n      const url = new URL(window.location.href);\n      const profID = url.pathname.split('/').pop();\n      if (!profID) {\n        // Handle the case where profID is not defined properly\n        throw new Error('profID is not defined');\n      }\n      // console.log(profID);\n      // API call.\n      const response = await fetch(\n        `http://localhost:5000/api/writeReview/review/${profID}`,\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"auth-token\": localStorage.getItem(\"token\")\n          },\n          body: JSON.stringify({ rate: rating, review: review })\n        }\n      );\n      const json = await response.json();\n      // Reset the review state after successful submission\n      setReview('');\n      setRating(0);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n\n\n  // Check if the logged-in user has already submitted a review\n  const hasUserReviewed = reviews.some((review) => review.user_id === user._id);\n\n  return (\n    <>\n      <Navbar />\n      {/* <div>\n        Heoooooollllo\n        {professional.name},\n        {professional.profession}\n      </div>\n      <button onClick={bookAppointment}>Book Appointment</button> */}\n\n      <div className=\"container-fluid no-padding\">\n        <div className=\"row\">\n          <div className=\"col-8\" >\n            <h3 className=\"mt-3\">Profession Profile</h3>\n            <div className=\"card mb-3 mt-3\" style={{ width: '100%', boxShadow: '0 0 10px grey', borderRadius: '10px' }}>\n              <div className=\"row g-0\">\n                <div className=\"col-md-2\">\n                  <img src={user_img} className=\"img-fluid rounded-start\" alt=\"...\" />\n                </div>\n                <div className=\"col-md-7\">\n                  <div className=\"card-body\">\n                    <h5 className=\"card-title\" style={{ fontWeight: 700 }}>{professional.name}</h5>\n                    <p className=\"card-text\">\n                      <span className='px-2 py-1 text-white mr-3' style={{ backgroundColor: '#F4A4A4', borderRadius: '7px' }}>{avgRating}</span>\n\n                      <span className=\"stars\">\n                        {generateStarIcons(avgRating)}\n                      </span>\n\n                      <small className=\"mx-3\">{reviews.length} Ratings </small>\n                    </p>\n                    <p className=\"card-text\">\n                      <span className='px-2 py-1 text-white mr-3' style={{ backgroundColor: '#F4A4A4', borderRadius: '7px' }}>Profession: </span>{professional.profession}\n                    </p>\n                    <p className=\"card-text\">\n                      <span className='px-2 py-1 text-white mr-3' style={{ backgroundColor: '#F4A4A4', borderRadius: '7px' }}>Address: </span> {professional.address}\n                    </p>\n                    <p className=\"card-text text-secondary\">\n                      <span className='px-2 py-1 text-white mr-3' style={{ backgroundColor: '#F4A4A4', borderRadius: '7px' }}>City: </span> {professional.city}\n                    </p>\n                    <p className=\"card-text text-secondary\">\n                      <span className='px-2 py-1 text-white mr-3' style={{ backgroundColor: '#F4A4A4', borderRadius: '7px' }}>Fees: </span> {professional.fees} per session\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <hr className=\"mt-5\" style={{ border: '1px dashed #9AA4EC' }} />\n\n          </div>\n          <div className=\"col-4 mt-2\" >\n            <Calendar\n              onChange={onChange}\n              value={date}\n            />\n          </div>\n\n          {/* <!-- Force next columns to break to new line at md breakpoint and up --> */}\n          <div className=\"w-100 d-none d-md-block\"></div>\n          <div className=\"col-8\" >\n            <div className=\"card mb-3 mt-3\" style={{ width: '100%', border: 'none' }}>\n              <h3>Reviews</h3>\n              {!hasUserReviewed && (\n                <div className=\"mx-3 writeReview\">\n                  <div>\n                    {[...Array(5)].map((_, index) => (\n                      <svg\n                        key={index}\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        width=\"30\"\n                        height=\"30\"\n                        style={{ cursor: 'pointer' }}\n                        fill={index < rating ? 'yellow' : 'currentColor'}\n                        className=\"mx-1 bi bi-star\"\n                        viewBox=\"0 0 16 16\"\n                        onClick={() => handleRating(index + 1)}\n                      >\n                        <path d=\"M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288L8 2.223l1.847 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.565.565 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z\" />\n                      </svg>\n                    ))}\n                  </div>\n                  <textarea\n                    style={{ borderRadius: '18px', padding: '20px' }}\n                    name=\"review\"\n                    value={review}\n                    onChange={handleReviewChange}\n                    cols=\"120\"\n                    rows=\"3\"\n                    placeholder=\"Write a review...\"\n                  ></textarea>\n                  <button className=\"btn\" onClick={() => {\n                    if (rating && review) {\n                      writeReview();\n                    }\n                    else {\n                      alert('Write something in review');\n                    }\n                  }}>\n                    Submit\n                  </button>\n                </div>\n              )}\n              {reviews && reviews.map((item, i) => (\n                <div className=\"card mb-3 mt-3\" style={{ width: '100%', boxShadow: '0 0 3px grey', borderRadius: '20px' }}>\n                  <div className=\"row g-0\">\n                    <div className=\"col-md-2\">\n                      <img src={user_img} className=\"img-fluid rounded-start\" alt=\"...\" style={{ height: '80px' }} />\n                    </div>\n                    <div className=\"col-md-7\">\n                      <div className=\"card-body\">\n                        <h5 className=\"card-title\" style={{ fontWeight: 700, fontSize: '15px' }}>{item.username}</h5>\n\n                        <p style={{width: '135%'}} className=\"\">\n                          <span>{item.review}</span>\n                      <span style={{fontStyle: 'italic', float: 'right' }}>{new Date(item.date).toDateString()}</span>\n                        </p>\n                      </div>\n                    </div>\n                    <p className=\"card-text my-4\">\n                      {/* <span className='px-2 py-1 text-white mr-3' style={{ backgroundColor: '#F4A4A4', borderRadius: '7px' }}>\n                          {isNaN(calculateAverageRating()) ? 0.0 : calculateAverageRating().toFixed(1)}\n                        </span> */}\n\n                      <span className=\"stars\">\n                        {generateStarIcons(item.rate)}\n                      </span>\n                      {/* <small className=\"mx-3\"> {item.length} Ratings </small> */}\n                    </p>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n\n\n          <div className=\"col-4\">\n            <h3 className=\"mt-3\">Available Slots on {date.toDateString()}</h3>\n            <div className=\"mt-4 container\">\n              {filteredTimeSlots.map((slot, index) => (\n                // <div className=\"\">\n                <div key={index} className=\"row\">\n                  {slot.timeslots.map((eachSlot, i) => (\n                    <div key={i} className=\"col-md-4\">\n                      <button\n                        style={{\n                          backgroundColor: eachSlot.status === 'Not Available' ? 'grey' : 'white',\n                          border: eachSlot.status === 'Not Available' ? '2px solid grey' : '2px solid green',\n                          color: eachSlot.status === 'Not Available' ? 'white' : 'green',\n                          cursor: eachSlot.status === 'Not Available' ? 'not-allowed' : 'pointer',\n                          backgroundColor: selectedSlot === eachSlot._id ? 'green' : (eachSlot.status === 'Not Available' ? 'grey' : 'white'),\n                          color: selectedSlot === eachSlot._id ? 'white' : (eachSlot.status === 'Not Available' ? 'white' : 'green')\n                        }}\n                        className=\"time-slot my-2 btn\"\n                        onClick={() => {\n                          if (eachSlot.status !== 'Not Available') {\n                            handleTimeSlotClick(eachSlot.timeFrame, eachSlot._id);\n                            setSelectedSlot(eachSlot._id);\n                          }\n                        }}\n                      >\n                        {eachSlot.timeFrame}\n                      </button>\n                    </div>\n                  ))}\n                  {/* </div> */}\n                </div>\n              ))}\n\n              <button onClick={() => {\n                if (date && selectedTime) {\n                  handlePayment();\n                }\n                else {\n                  alert('Select a date and timeslot to book an appointment');\n                }\n              }} className=\" my-3 btn btn-success\">Book Appointment</button>\n\n            </div>\n          </div>\n        </div>\n      </div >\n      <Footer />\n    </>\n  );\n};\n\nexport default Professional;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD;AACA,SAASC,KAAK,QAAQ,gBAAgB;AACtC,OAAOC,QAAQ,MAAM,gBAAgB;AACrC,OAAO,wBAAwB;AAC/B,OAAO,0BAA0B;AACjC,OAAOC,QAAQ,MAAM,8CAA8C;AACnE,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,gCAAgC;AACnD,OAAOC,MAAM,MAAM,gCAAgC;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAEpD,MAAMC,YAAY,GAAIC,KAAK,IAAK;EAAAC,EAAA;EAC9B;EACA,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGhB,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAK;EAC1D,MAAM,CAACiB,IAAI,EAAEC,OAAO,CAAC,GAAGlB,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAK;EAC1C,MAAM,CAACmB,OAAO,EAAEC,UAAU,CAAC,GAAGpB,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAe;EAC1D,MAAM,CAACqB,IAAI,EAAEC,OAAO,CAAC,GAAGtB,QAAQ,CAAC,IAAIuB,IAAI,CAAC,CAAC,CAAC,CAAC,CAAa;EAC1D,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGzB,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAK;EAC1D,MAAM,CAAC0B,MAAM,EAAEC,SAAS,CAAC,GAAG3B,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAiB;EAC1D,MAAM,CAAC4B,SAAS,EAAEC,YAAY,CAAC,GAAG7B,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAW;EAC1D,MAAM,CAAC8B,iBAAiB,EAAEC,oBAAoB,CAAC,GAAG/B,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAG;EAClE,MAAM,CAACgC,IAAI,EAAEC,OAAO,CAAC,GAAGjC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAA4B;EAClE,MAAM,CAACkC,YAAY,EAAEC,eAAe,CAAC,GAAGnC,QAAQ,CAAC,IAAI,CAAC;EACtD,MAAM,CAACoC,SAAS,EAAEC,YAAY,CAAC,GAAGrC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAY;EAC1D,MAAM,CAACsC,MAAM,EAAEC,SAAS,CAAC,GAAGvC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAkB;EAC1D,MAAM,CAACwC,MAAM,EAAEC,SAAS,CAAC,GAAGzC,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAiB;;EAG1D;EACA,MAAM0C,sBAAsB,GAAGA,CAAA,KAAM;IACnC,IAAIC,YAAY,GAAG,CAAC;IACpB,MAAMC,eAAe,GAAGzB,OAAO,CAAC0B,MAAM,IAAI,CAAC;IAC3C,IAAID,eAAe,KAAK,CAAC,EAAE;MACzB,OAAO,CAAC;IACV;IACAzB,OAAO,CAAC2B,OAAO,CAAEN,MAAM,IAAK;MAC1BG,YAAY,IAAII,QAAQ,CAACP,MAAM,CAACQ,IAAI,CAAC;IACvC,CAAC,CAAC;IAEFX,YAAY,CAAC,CAACM,YAAY,GAAGC,eAAe,EAAEK,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;IAE3D,OAAON,YAAY,GAAGC,eAAe;EACvC,CAAC;;EAGD;EACA,MAAMM,aAAa,GAAG,MAAAA,CAAA,KAAY;IAChC,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CACzB,wCAAuC,EACxC;QACEC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACP,cAAc,EAAE,kBAAkB;UAClC,YAAY,EAAEC,YAAY,CAACC,OAAO,CAAC,OAAO;QAC5C;MACF,CACF,CAAC;MACD,MAAMC,IAAI,GAAG,MAAMN,QAAQ,CAACM,IAAI,CAAC,CAAC;MAClCvC,OAAO,CAACuC,IAAI,CAAC;MACbC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;IACnB,CAAC,CAAC,OAAOG,KAAK,EAAE;MACdF,OAAO,CAACC,GAAG,CAACC,KAAK,CAAC;IACpB;EACF,CAAC;;EAED;EACA,MAAMC,sBAAsB,GAAG,MAAAA,CAAA,KAAY;IACzC,IAAI;MACF;MACA,MAAMC,GAAG,GAAG,IAAIC,GAAG,CAACC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAC;MACzC,MAAMC,MAAM,GAAGL,GAAG,CAACM,QAAQ,CAACC,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAAC,CAAC;MAC5C,IAAI,CAACH,MAAM,EAAE;QACX;QACA,MAAM,IAAII,KAAK,CAAC,uBAAuB,CAAC;MAC1C;MACA;MACA;MACA,MAAMpB,QAAQ,GAAG,MAAMC,KAAK,CACzB,qEAAoEe,MAAO,EAAC,EAC7E;QACEd,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACP,cAAc,EAAE;QAClB;MACF,CACF,CAAC;MACD,MAAMG,IAAI,GAAG,MAAMN,QAAQ,CAACM,IAAI,CAAC,CAAC;MAClCzC,eAAe,CAACyC,IAAI,CAAC;MACrB5B,YAAY,CAAC4B,IAAI,CAACe,aAAa,CAAC;MAChCvC,OAAO,CAACwB,IAAI,CAACgB,IAAI,CAAC;MAClBrD,UAAU,CAACqC,IAAI,CAACtC,OAAO,CAAC;MACxBuB,sBAAsB,CAAC,CAAC;IAC1B,CAAC,CAAC,OAAOkB,KAAK,EAAE,CAChB;EACF,CAAC;;EAED;EACA,MAAMc,aAAa,GAAG,MAAAA,CAAA,KAAY;IAChC,IAAI;MAEF,IAAI,CAACnB,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,EAAE;QAClCmB,KAAK,CAAC,yBAAyB,CAAC;QAChC,OAAOC,QAAQ,CAAC,GAAG,CAAC;MACtB;MACA;MACA,MAAMC,QAAQ,GAAG,sCAAsC;MACvD,MAAM;QAAEC;MAAK,CAAC,GAAG,MAAMzE,KAAK,CAAC0E,IAAI,CAC/BF,QAAQ,EACR;QAAEG,MAAM,EAAEhD;MAAK,CAAC,EAChB;QACEsB,OAAO,EAAE;UACP,6BAA6B,EAAE,GAAG;UAClC,8BAA8B,EAAE,iCAAiC;UACjE,8BAA8B,EAAE;QAClC;MACF,CACF,CAAC;MACDI,OAAO,CAACC,GAAG,CAAC,KAAK,CAAC;MAClBD,OAAO,CAACC,GAAG,CAACmB,IAAI,CAAC;MACjBG,WAAW,CAACH,IAAI,CAACA,IAAI,CAAC;IACxB,CAAC,CAAC,OAAOlB,KAAK,EAAE;MACd1D,KAAK,CAAC0D,KAAK,CAAC,sBAAsB,CAAC;MACnCF,OAAO,CAACC,GAAG,CAACC,KAAK,CAAC;IACpB;EACF,CAAC;;EAED;EACA,MAAMqB,WAAW,GAAIH,IAAI,IAAK;IAC5BpB,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC;IACtB,MAAMuB,OAAO,GAAG;MACdC,GAAG,EAAE,yBAAyB;MAC9BH,MAAM,EAAEF,IAAI,CAACE,MAAM;MACnBI,QAAQ,EAAEN,IAAI,CAACM,QAAQ;MACvBC,WAAW,EAAE,kBAAkB;MAC/BC,QAAQ,EAAER,IAAI,CAACS,EAAE;MACjBC,OAAO,EAAE,MAAOrC,QAAQ,IAAK;QAC3B,IAAI;UACF,MAAMsC,SAAS,GAAG,sCAAsC;UACxD,MAAM;YAAEX;UAAK,CAAC,GAAG,MAAMzE,KAAK,CAAC0E,IAAI,CAACU,SAAS,EAAEtC,QAAQ,EAAE;YACrDG,OAAO,EAAE;cACP,6BAA6B,EAAE,GAAG;cAClC,8BAA8B,EAAE,iCAAiC;cACjE,8BAA8B,EAAE;YAClC;UACF,CAAC,CAAC;UACFI,OAAO,CAACC,GAAG,CAACmB,IAAI,CAAC;UACjB,IAAIA,IAAI,CAACY,MAAM,EAAE;YACff,KAAK,CAAC,+BAA+B,CAAC;YACtC;YACA;YACA;;YAEA;YACAC,QAAQ,CAAC,oBAAoB,CAAC;UAChC;QACF,CAAC,CAAC,OAAOhB,KAAK,EAAE;UACdF,OAAO,CAACC,GAAG,CAACC,KAAK,CAAC;QACpB;MACF,CAAC;MACD+B,KAAK,EAAE;QACLC,KAAK,EAAE;MACT;IACF,CAAC;IAEDlC,OAAO,CAACC,GAAG,CAACuB,OAAO,CAAC;IACpB,MAAMW,IAAI,GAAG,IAAI7B,MAAM,CAAC8B,QAAQ,CAACZ,OAAO,CAAC;IAGzCW,IAAI,CAACE,IAAI,CAAC,CAAC;IACXC,eAAe,CAAC,CAAC;EACnB,CAAC;;EAED;EACA,MAAMA,eAAe,GAAG,MAAAA,CAAA,KAAY;IAClC,IAAI;MACF;MACA,MAAMC,KAAK,GAAG1C,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;MACjDE,OAAO,CAACC,GAAG,CAAC,aAAa,EAAEsC,KAAK,CAAC;MAE3B,MAAMnC,GAAG,GAAG,IAAIC,GAAG,CAACC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAC;MACzC,MAAMC,MAAM,GAAGL,GAAG,CAACM,QAAQ,CAACC,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAAC,CAAC;MAC5C;MACA;MACA,IAAI,CAACH,MAAM,EAAE;QACX,MAAM,IAAII,KAAK,CAAC,uBAAuB,CAAC;MAC1C;;MAEA;MACA,IAAI,CAAC/C,YAAY,IAAI,CAACH,IAAI,EAAE;QAC1B,MAAM,IAAIkD,KAAK,CAAC,qCAAqC,CAAC;MACxD;;MAEA;MACA,MAAM2B,IAAI,GAAG7E,IAAI,CAAC8E,WAAW,CAAC,CAAC;MAC/B,MAAMC,KAAK,GAAG,CAAC/E,IAAI,CAACgF,QAAQ,CAAC,CAAC,GAAG,CAAC,EAAEC,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC;MACjE,MAAMC,GAAG,GAAGnF,IAAI,CAACoF,OAAO,CAAC,CAAC,CAACH,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC;;MAEtD;MACA,MAAMG,aAAa,GAAI,GAAER,IAAK,IAAGE,KAAM,IAAGI,GAAI,EAAC;;MAE/C;MACA9C,OAAO,CAACC,GAAG,CAACtC,IAAI,CAACsF,YAAY,CAAC,CAAC,CAAC;MAChC,MAAMC,MAAM,GAAG,MAAMxD,KAAK,CACvB,uEAAsEe,MAAO,IAAGzC,MAAO,EAAC,EACzF;QACE2B,MAAM,EAAE,KAAK;QACbC,OAAO,EAAE;UACP,cAAc,EAAE;UAChB;QACF,CAAC;;QACDuD,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAEP,GAAG,EAAEE;QAAc,CAAC;MAC7C,CACF,CAAC;MACDhD,OAAO,CAACC,GAAG,CAACiD,MAAM,CAAC;;MAEnB;MACA,MAAMzD,QAAQ,GAAG,MAAMC,KAAK,CACzB,qDAAoDe,MAAO,EAAC,EAC7D;QACEd,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACP,cAAc,EAAE,kBAAkB;UAClC,YAAY,EAAEC,YAAY,CAACC,OAAO,CAAC,OAAO;QAC5C,CAAC;QACDqD,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAEC,MAAM,EAAExF,YAAY;UAAEyF,eAAe,EAAE5F,IAAI,CAACsF,YAAY,CAAC,CAAC;UAAEO,aAAa,EAAE,oBAAoB;UAAEC,aAAa,EAAE;QAAO,CAAC;MACjJ,CACF,CAAC;MACD,MAAM1D,IAAI,GAAG,MAAMN,QAAQ,CAACM,IAAI,CAAC,CAAC;MAClCvD,KAAK,CAACkH,OAAO,CAAC,oCAAoC,CAAC;IACrD,CAAC,CAAC,OAAOxD,KAAK,EAAE;MACd,IAAIA,KAAK,CAACT,QAAQ,EAAE;QAChB;QACAO,OAAO,CAACE,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAACT,QAAQ,CAAC2B,IAAI,CAAC;QAC1DpB,OAAO,CAACE,KAAK,CAAC,eAAe,EAAEA,KAAK,CAACT,QAAQ,CAACuC,MAAM,CAAC;QACrDhC,OAAO,CAACE,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAACT,QAAQ,CAACG,OAAO,CAAC;MAC3D,CAAC,MAAM;QACH;QACAI,OAAO,CAACE,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAACyD,OAAO,CAAC;MAClD;IACJ;EAEA,CAAC;EAGDpH,SAAS,CAAC,MAAM;IACd,IAAIsD,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,EAAE;MACjCK,sBAAsB,CAAC,CAAC;MACxBX,aAAa,CAAC,CAAC;MACf;IACF,CAAC,MAAM;MACL0B,QAAQ,CAAC,aAAa,CAAC;IACzB;EACF,CAAC,EAAE,EAAE,CAAC;EAIN3E,SAAS,CAAC,MAAM;IACd4D,sBAAsB,CAAC,CAAC;IACxB;IACA,MAAMyD,QAAQ,GAAG1F,SAAS,CAAC2F,MAAM,CAACC,QAAQ,IAAI,IAAIjG,IAAI,CAACiG,QAAQ,CAAChB,GAAG,CAAC,CAACG,YAAY,CAAC,CAAC,KAAKtF,IAAI,CAACsF,YAAY,CAAC,CAAC,CAAC;IAC5G5E,oBAAoB,CAACuF,QAAQ,CAAC;EAChC,CAAC,EAAE,CAACjG,IAAI,EAAEO,SAAS,EAAEJ,YAAY,CAAC,CAAC;EAEnC,MAAMiG,mBAAmB,GAAGA,CAACC,QAAQ,EAAEnC,EAAE,KAAK;IAC5C9D,eAAe,CAACiG,QAAQ,CAAC;IACzB/F,SAAS,CAAC4D,EAAE,CAAC;IACb7B,OAAO,CAACC,GAAG,CAACnC,YAAY,CAAC;IACzBkC,OAAO,CAACC,GAAG,CAACtC,IAAI,CAAC;EACnB,CAAC;EAED,MAAMsG,QAAQ,GAAItG,IAAI,IAAK;IACzBqC,OAAO,CAACC,GAAG,CAACtC,IAAI,CAAC;IACjBC,OAAO,CAACD,IAAI,CAAC;EACf,CAAC;;EAGD;EACA,MAAMuG,iBAAiB,GAAItF,MAAM,IAAK;IACpC,MAAMuF,SAAS,GAAGC,IAAI,CAACC,KAAK,CAACzF,MAAM,CAAC;IACpC,MAAM0F,WAAW,GAAG1F,MAAM,GAAG,CAAC,KAAK,CAAC;IACpC,MAAM2F,KAAK,GAAG,EAAE;IAEhB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGL,SAAS,EAAEK,CAAC,EAAE,EAAE;MAClCD,KAAK,CAACE,IAAI,eACR1H,OAAA;QAEE2H,KAAK,EAAC,4BAA4B;QAClCC,KAAK,EAAC,IAAI;QACVC,MAAM,EAAC,IAAI;QACXC,IAAI,EAAC,SAAS;QACdC,SAAS,EAAC,sBAAsB;QAChCC,OAAO,EAAC,WAAW;QAAAC,QAAA,eAEnBjI,OAAA;UAAMkI,CAAC,EAAC;QAA4P;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC,GARlQb,CAAC;QAAAU,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OASH,CACP,CAAC;IACH;IAEA,IAAIf,WAAW,EAAE;MACfC,KAAK,CAACE,IAAI,eACR1H,OAAA;QAEE2H,KAAK,EAAC,4BAA4B;QAClCC,KAAK,EAAC,IAAI;QACVC,MAAM,EAAC,IAAI;QACXC,IAAI,EAAC,SAAS;QACdC,SAAS,EAAC,sBAAsB;QAChCC,OAAO,EAAC,WAAW;QAAAC,QAAA,eAEnBjI,OAAA;UAAMkI,CAAC,EAAC;QAAqf;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC,GAR5f,MAAM;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OASP,CACP,CAAC;IACH;IAEA,MAAMC,cAAc,GAAG,CAAC,GAAGnB,SAAS,IAAIG,WAAW,GAAG,CAAC,GAAG,CAAC,CAAC;IAE5D,KAAK,IAAIE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGc,cAAc,EAAEd,CAAC,EAAE,EAAE;MACvCD,KAAK,CAACE,IAAI,eACR1H,OAAA;QAEE2H,KAAK,EAAC,4BAA4B;QAClCC,KAAK,EAAC,IAAI;QACVC,MAAM,EAAC,IAAI;QACXC,IAAI,EAAC,SAAS;QACdC,SAAS,EAAC,iBAAiB;QAC3BC,OAAO,EAAC,WAAW;QAAAC,QAAA,eAEnBjI,OAAA;UAAMkI,CAAC,EAAC;QAA6e;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC,GARlf,SAAQb,CAAE,EAAC;QAAAU,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OASd,CACP,CAAC;IACH;IACA;IACA,OAAOd,KAAK;EACd,CAAC;;EAED;EACA,MAAMgB,YAAY,GAAIC,KAAK,IAAK;IAC9B3G,SAAS,CAAC2G,KAAK,CAAC;EAClB,CAAC;;EAED;EACA,MAAMC,kBAAkB,GAAIC,KAAK,IAAK;IACpC3G,SAAS,CAAC2G,KAAK,CAACC,MAAM,CAACH,KAAK,CAAC;EAC/B,CAAC;;EAED;EACA,MAAMI,WAAW,GAAG,MAAAA,CAAA,KAAY;IAC9B,IAAI;MACF;MACA,MAAMxF,GAAG,GAAG,IAAIC,GAAG,CAACC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAC;MACzC,MAAMC,MAAM,GAAGL,GAAG,CAACM,QAAQ,CAACC,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAAC,CAAC;MAC5C,IAAI,CAACH,MAAM,EAAE;QACX;QACA,MAAM,IAAII,KAAK,CAAC,uBAAuB,CAAC;MAC1C;MACA;MACA;MACA,MAAMpB,QAAQ,GAAG,MAAMC,KAAK,CACzB,gDAA+Ce,MAAO,EAAC,EACxD;QACEd,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACP,cAAc,EAAE,kBAAkB;UAClC,YAAY,EAAEC,YAAY,CAACC,OAAO,CAAC,OAAO;QAC5C,CAAC;QACDqD,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAE/D,IAAI,EAAEV,MAAM;UAAEE,MAAM,EAAEA;QAAO,CAAC;MACvD,CACF,CAAC;MACD,MAAMiB,IAAI,GAAG,MAAMN,QAAQ,CAACM,IAAI,CAAC,CAAC;MAClC;MACAhB,SAAS,CAAC,EAAE,CAAC;MACbF,SAAS,CAAC,CAAC,CAAC;IACd,CAAC,CAAC,OAAOqB,KAAK,EAAE;MACdF,OAAO,CAACC,GAAG,CAACC,KAAK,CAAC;IACpB;EACF,CAAC;;EAID;EACA,MAAM2F,eAAe,GAAGpI,OAAO,CAACqI,IAAI,CAAEhH,MAAM,IAAKA,MAAM,CAACiH,OAAO,KAAKxI,IAAI,CAACyI,GAAG,CAAC;EAE7E,oBACEjJ,OAAA,CAAAE,SAAA;IAAA+H,QAAA,gBACEjI,OAAA,CAACH,MAAM;MAAAsI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAQVtI,OAAA;MAAK+H,SAAS,EAAC,4BAA4B;MAAAE,QAAA,eACzCjI,OAAA;QAAK+H,SAAS,EAAC,KAAK;QAAAE,QAAA,gBAClBjI,OAAA;UAAK+H,SAAS,EAAC,OAAO;UAAAE,QAAA,gBACpBjI,OAAA;YAAI+H,SAAS,EAAC,MAAM;YAAAE,QAAA,EAAC;UAAkB;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC5CtI,OAAA;YAAK+H,SAAS,EAAC,gBAAgB;YAACmB,KAAK,EAAE;cAAEtB,KAAK,EAAE,MAAM;cAAEuB,SAAS,EAAE,eAAe;cAAEC,YAAY,EAAE;YAAO,CAAE;YAAAnB,QAAA,eACzGjI,OAAA;cAAK+H,SAAS,EAAC,SAAS;cAAAE,QAAA,gBACtBjI,OAAA;gBAAK+H,SAAS,EAAC,UAAU;gBAAAE,QAAA,eACvBjI,OAAA;kBAAKqJ,GAAG,EAAE1J,QAAS;kBAACoI,SAAS,EAAC,yBAAyB;kBAACuB,GAAG,EAAC;gBAAK;kBAAAnB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACjE,CAAC,eACNtI,OAAA;gBAAK+H,SAAS,EAAC,UAAU;gBAAAE,QAAA,eACvBjI,OAAA;kBAAK+H,SAAS,EAAC,WAAW;kBAAAE,QAAA,gBACxBjI,OAAA;oBAAI+H,SAAS,EAAC,YAAY;oBAACmB,KAAK,EAAE;sBAAEK,UAAU,EAAE;oBAAI,CAAE;oBAAAtB,QAAA,EAAE3H,YAAY,CAACkJ;kBAAI;oBAAArB,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAK,CAAC,eAC/EtI,OAAA;oBAAG+H,SAAS,EAAC,WAAW;oBAAAE,QAAA,gBACtBjI,OAAA;sBAAM+H,SAAS,EAAC,2BAA2B;sBAACmB,KAAK,EAAE;wBAAEO,eAAe,EAAE,SAAS;wBAAEL,YAAY,EAAE;sBAAM,CAAE;sBAAAnB,QAAA,EAAEtG;oBAAS;sBAAAwG,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAO,CAAC,eAE1HtI,OAAA;sBAAM+H,SAAS,EAAC,OAAO;sBAAAE,QAAA,EACpBd,iBAAiB,CAACxF,SAAS;oBAAC;sBAAAwG,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACzB,CAAC,eAEPtI,OAAA;sBAAO+H,SAAS,EAAC,MAAM;sBAAAE,QAAA,GAAEvH,OAAO,CAAC0B,MAAM,EAAC,WAAS;oBAAA;sBAAA+F,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAO,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACxD,CAAC,eACJtI,OAAA;oBAAG+H,SAAS,EAAC,WAAW;oBAAAE,QAAA,gBACtBjI,OAAA;sBAAM+H,SAAS,EAAC,2BAA2B;sBAACmB,KAAK,EAAE;wBAAEO,eAAe,EAAE,SAAS;wBAAEL,YAAY,EAAE;sBAAM,CAAE;sBAAAnB,QAAA,EAAC;oBAAY;sBAAAE,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAM,CAAC,EAAChI,YAAY,CAACoJ,UAAU;kBAAA;oBAAAvB,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAClJ,CAAC,eACJtI,OAAA;oBAAG+H,SAAS,EAAC,WAAW;oBAAAE,QAAA,gBACtBjI,OAAA;sBAAM+H,SAAS,EAAC,2BAA2B;sBAACmB,KAAK,EAAE;wBAAEO,eAAe,EAAE,SAAS;wBAAEL,YAAY,EAAE;sBAAM,CAAE;sBAAAnB,QAAA,EAAC;oBAAS;sBAAAE,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAM,CAAC,KAAC,EAAChI,YAAY,CAACqJ,OAAO;kBAAA;oBAAAxB,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAC7I,CAAC,eACJtI,OAAA;oBAAG+H,SAAS,EAAC,0BAA0B;oBAAAE,QAAA,gBACrCjI,OAAA;sBAAM+H,SAAS,EAAC,2BAA2B;sBAACmB,KAAK,EAAE;wBAAEO,eAAe,EAAE,SAAS;wBAAEL,YAAY,EAAE;sBAAM,CAAE;sBAAAnB,QAAA,EAAC;oBAAM;sBAAAE,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAM,CAAC,KAAC,EAAChI,YAAY,CAACsJ,IAAI;kBAAA;oBAAAzB,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACvI,CAAC,eACJtI,OAAA;oBAAG+H,SAAS,EAAC,0BAA0B;oBAAAE,QAAA,gBACrCjI,OAAA;sBAAM+H,SAAS,EAAC,2BAA2B;sBAACmB,KAAK,EAAE;wBAAEO,eAAe,EAAE,SAAS;wBAAEL,YAAY,EAAE;sBAAM,CAAE;sBAAAnB,QAAA,EAAC;oBAAM;sBAAAE,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAM,CAAC,KAAC,EAAChI,YAAY,CAAC0D,IAAI,EAAC,cAC3I;kBAAA;oBAAAmE,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAG,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACD;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eACNtI,OAAA;YAAI+H,SAAS,EAAC,MAAM;YAACmB,KAAK,EAAE;cAAEW,MAAM,EAAE;YAAqB;UAAE;YAAA1B,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAE7D,CAAC,eACNtI,OAAA;UAAK+H,SAAS,EAAC,YAAY;UAAAE,QAAA,eACzBjI,OAAA,CAACN,QAAQ;YACPwH,QAAQ,EAAEA,QAAS;YACnBuB,KAAK,EAAE7H;UAAK;YAAAuH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACb;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eAGNtI,OAAA;UAAK+H,SAAS,EAAC;QAAyB;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,eAC/CtI,OAAA;UAAK+H,SAAS,EAAC,OAAO;UAAAE,QAAA,eACpBjI,OAAA;YAAK+H,SAAS,EAAC,gBAAgB;YAACmB,KAAK,EAAE;cAAEtB,KAAK,EAAE,MAAM;cAAEiC,MAAM,EAAE;YAAO,CAAE;YAAA5B,QAAA,gBACvEjI,OAAA;cAAAiI,QAAA,EAAI;YAAO;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,EACf,CAACQ,eAAe,iBACf9I,OAAA;cAAK+H,SAAS,EAAC,kBAAkB;cAAAE,QAAA,gBAC/BjI,OAAA;gBAAAiI,QAAA,EACG,CAAC,GAAG6B,KAAK,CAAC,CAAC,CAAC,CAAC,CAACC,GAAG,CAAC,CAACC,CAAC,EAAEC,KAAK,kBAC1BjK,OAAA;kBAEE2H,KAAK,EAAC,4BAA4B;kBAClCC,KAAK,EAAC,IAAI;kBACVC,MAAM,EAAC,IAAI;kBACXqB,KAAK,EAAE;oBAAEgB,MAAM,EAAE;kBAAU,CAAE;kBAC7BpC,IAAI,EAAEmC,KAAK,GAAGpI,MAAM,GAAG,QAAQ,GAAG,cAAe;kBACjDkG,SAAS,EAAC,iBAAiB;kBAC3BC,OAAO,EAAC,WAAW;kBACnBmC,OAAO,EAAEA,CAAA,KAAM3B,YAAY,CAACyB,KAAK,GAAG,CAAC,CAAE;kBAAAhC,QAAA,eAEvCjI,OAAA;oBAAMkI,CAAC,EAAC;kBAA6e;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE;gBAAC,GAVnf2B,KAAK;kBAAA9B,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAWP,CACN;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACC,CAAC,eACNtI,OAAA;gBACEkJ,KAAK,EAAE;kBAAEE,YAAY,EAAE,MAAM;kBAAEgB,OAAO,EAAE;gBAAO,CAAE;gBACjDZ,IAAI,EAAC,QAAQ;gBACbf,KAAK,EAAE1G,MAAO;gBACdmF,QAAQ,EAAEwB,kBAAmB;gBAC7B2B,IAAI,EAAC,KAAK;gBACVC,IAAI,EAAC,GAAG;gBACRC,WAAW,EAAC;cAAmB;gBAAApC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACtB,CAAC,eACZtI,OAAA;gBAAQ+H,SAAS,EAAC,KAAK;gBAACoC,OAAO,EAAEA,CAAA,KAAM;kBACrC,IAAItI,MAAM,IAAIE,MAAM,EAAE;oBACpB8G,WAAW,CAAC,CAAC;kBACf,CAAC,MACI;oBACH3E,KAAK,CAAC,2BAA2B,CAAC;kBACpC;gBACF,CAAE;gBAAA+D,QAAA,EAAC;cAEH;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CACN,EACA5H,OAAO,IAAIA,OAAO,CAACqJ,GAAG,CAAC,CAACS,IAAI,EAAE/C,CAAC,kBAC9BzH,OAAA;cAAK+H,SAAS,EAAC,gBAAgB;cAACmB,KAAK,EAAE;gBAAEtB,KAAK,EAAE,MAAM;gBAAEuB,SAAS,EAAE,cAAc;gBAAEC,YAAY,EAAE;cAAO,CAAE;cAAAnB,QAAA,eACxGjI,OAAA;gBAAK+H,SAAS,EAAC,SAAS;gBAAAE,QAAA,gBACtBjI,OAAA;kBAAK+H,SAAS,EAAC,UAAU;kBAAAE,QAAA,eACvBjI,OAAA;oBAAKqJ,GAAG,EAAE1J,QAAS;oBAACoI,SAAS,EAAC,yBAAyB;oBAACuB,GAAG,EAAC,KAAK;oBAACJ,KAAK,EAAE;sBAAErB,MAAM,EAAE;oBAAO;kBAAE;oBAAAM,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC5F,CAAC,eACNtI,OAAA;kBAAK+H,SAAS,EAAC,UAAU;kBAAAE,QAAA,eACvBjI,OAAA;oBAAK+H,SAAS,EAAC,WAAW;oBAAAE,QAAA,gBACxBjI,OAAA;sBAAI+H,SAAS,EAAC,YAAY;sBAACmB,KAAK,EAAE;wBAAEK,UAAU,EAAE,GAAG;wBAAEkB,QAAQ,EAAE;sBAAO,CAAE;sBAAAxC,QAAA,EAAEuC,IAAI,CAACE;oBAAQ;sBAAAvC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAK,CAAC,eAE7FtI,OAAA;sBAAGkJ,KAAK,EAAE;wBAACtB,KAAK,EAAE;sBAAM,CAAE;sBAACG,SAAS,EAAC,EAAE;sBAAAE,QAAA,gBACrCjI,OAAA;wBAAAiI,QAAA,EAAOuC,IAAI,CAACzI;sBAAM;wBAAAoG,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAO,CAAC,eAC9BtI,OAAA;wBAAMkJ,KAAK,EAAE;0BAACyB,SAAS,EAAE,QAAQ;0BAAEC,KAAK,EAAE;wBAAQ,CAAE;wBAAA3C,QAAA,EAAE,IAAInH,IAAI,CAAC0J,IAAI,CAAC5J,IAAI,CAAC,CAACsF,YAAY,CAAC;sBAAC;wBAAAiC,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAO,CAAC;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAC3F,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACD;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACH,CAAC,eACNtI,OAAA;kBAAG+H,SAAS,EAAC,gBAAgB;kBAAAE,QAAA,eAK3BjI,OAAA;oBAAM+H,SAAS,EAAC,OAAO;oBAAAE,QAAA,EACpBd,iBAAiB,CAACqD,IAAI,CAACjI,IAAI;kBAAC;oBAAA4F,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACzB;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAEN,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACD;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CACN,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAGNtI,OAAA;UAAK+H,SAAS,EAAC,OAAO;UAAAE,QAAA,gBACpBjI,OAAA;YAAI+H,SAAS,EAAC,MAAM;YAAAE,QAAA,GAAC,qBAAmB,EAACrH,IAAI,CAACsF,YAAY,CAAC,CAAC;UAAA;YAAAiC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eAClEtI,OAAA;YAAK+H,SAAS,EAAC,gBAAgB;YAAAE,QAAA,GAC5B5G,iBAAiB,CAAC0I,GAAG,CAAC,CAACc,IAAI,EAAEZ,KAAK;YAAA;YACjC;YACAjK,OAAA;cAAiB+H,SAAS,EAAC,KAAK;cAAAE,QAAA,EAC7B4C,IAAI,CAACC,SAAS,CAACf,GAAG,CAAC,CAACgB,QAAQ,EAAEtD,CAAC,kBAC9BzH,OAAA;gBAAa+H,SAAS,EAAC,UAAU;gBAAAE,QAAA,eAC/BjI,OAAA;kBACEkJ,KAAK,EAAE;oBACLO,eAAe,EAAEsB,QAAQ,CAAC9F,MAAM,KAAK,eAAe,GAAG,MAAM,GAAG,OAAO;oBACvE4E,MAAM,EAAEkB,QAAQ,CAAC9F,MAAM,KAAK,eAAe,GAAG,gBAAgB,GAAG,iBAAiB;oBAClFE,KAAK,EAAE4F,QAAQ,CAAC9F,MAAM,KAAK,eAAe,GAAG,OAAO,GAAG,OAAO;oBAC9DiF,MAAM,EAAEa,QAAQ,CAAC9F,MAAM,KAAK,eAAe,GAAG,aAAa,GAAG,SAAS;oBACvEwE,eAAe,EAAEhI,YAAY,KAAKsJ,QAAQ,CAAC9B,GAAG,GAAG,OAAO,GAAI8B,QAAQ,CAAC9F,MAAM,KAAK,eAAe,GAAG,MAAM,GAAG,OAAQ;oBACnHE,KAAK,EAAE1D,YAAY,KAAKsJ,QAAQ,CAAC9B,GAAG,GAAG,OAAO,GAAI8B,QAAQ,CAAC9F,MAAM,KAAK,eAAe,GAAG,OAAO,GAAG;kBACpG,CAAE;kBACF8C,SAAS,EAAC,oBAAoB;kBAC9BoC,OAAO,EAAEA,CAAA,KAAM;oBACb,IAAIY,QAAQ,CAAC9F,MAAM,KAAK,eAAe,EAAE;sBACvC+B,mBAAmB,CAAC+D,QAAQ,CAACC,SAAS,EAAED,QAAQ,CAAC9B,GAAG,CAAC;sBACrDvH,eAAe,CAACqJ,QAAQ,CAAC9B,GAAG,CAAC;oBAC/B;kBACF,CAAE;kBAAAhB,QAAA,EAED8C,QAAQ,CAACC;gBAAS;kBAAA7C,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACb;cAAC,GAnBDb,CAAC;gBAAAU,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAoBN,CACN;YAAC,GAvBM2B,KAAK;cAAA9B,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAyBV,CACN,CAAC,eAEFtI,OAAA;cAAQmK,OAAO,EAAEA,CAAA,KAAM;gBACrB,IAAIvJ,IAAI,IAAIG,YAAY,EAAE;kBACxBkD,aAAa,CAAC,CAAC;gBACjB,CAAC,MACI;kBACHC,KAAK,CAAC,mDAAmD,CAAC;gBAC5D;cACF,CAAE;cAAC6D,SAAS,EAAC,uBAAuB;cAAAE,QAAA,EAAC;YAAgB;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAE3D,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF,CAAC,eACPtI,OAAA,CAACF,MAAM;MAAAqI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA,eACV,CAAC;AAEP,CAAC;AAACjI,EAAA,CA5iBIF,YAAY;AAAA8K,EAAA,GAAZ9K,YAAY;AA8iBlB,eAAeA,YAAY;AAAC,IAAA8K,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}