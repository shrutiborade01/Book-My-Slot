{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Arnav\\\\OneDrive\\\\Desktop\\\\BookMySlot-main\\\\Client\\\\src\\\\Pages\\\\User-Home-Page\\\\UserHomePage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport user_img from '../../Pages/User-Home-Page/images/reshma.png';\nimport \"./card.css\";\nimport banner from \"./images/banner-doctor.jpg\";\nimport ad from \"./images/ad-counsellor.jpg\";\nimport Navbar from \"../../Components/Navbar/Navbar\";\nimport Footer from \"../../Components/Footer/Footer\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst UserHomePage = ({\n  setProfId\n}) => {\n  _s();\n  let navigate = useNavigate();\n  const [professionals, setProfessionals] = useState([]);\n  const [selectedFilter, setSelectedFilter] = useState('all');\n  const [searchTerm, setSearchTerm] = useState('');\n  const getProfessionals = async () => {\n    // API call.\n    const response = await fetch(`http://localhost:5000/api/getAll/fetchProfessionals`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    const json = await response.json();\n    console.log(json);\n    setProfessionals(json);\n  };\n  useEffect(() => {\n    if (localStorage.getItem(\"token\")) {\n      getProfessionals();\n      //eslint-disable-next-line\n    } else {\n      navigate(\"/user/login\");\n    }\n  }, []);\n  const goToProfessional = professionalId => {\n    const newProfId = professionalId;\n    setProfId(newProfId);\n    navigate(`/user/professional/${professionalId}`);\n  };\n\n  // Function to calculate average rating for a professional\n  const calculateAverageRating = professional => {\n    let totalRatings = 0;\n    let numberOfRatings = professional.reviews.length;\n    if (numberOfRatings === 0) {\n      return 0;\n    }\n    professional.reviews.forEach(review => {\n      totalRatings += parseInt(review.rate);\n    });\n    console.log(totalRatings / numberOfRatings);\n    return totalRatings / numberOfRatings;\n  };\n\n  // Function to generate star icons based on the rating\n  const generateStarIcons = rating => {\n    const fullStars = Math.floor(rating);\n    const hasHalfStar = rating % 1 !== 0;\n    const stars = [];\n    for (let i = 0; i < fullStars; i++) {\n      stars.push( /*#__PURE__*/_jsxDEV(\"svg\", {\n        xmlns: \"http://www.w3.org/2000/svg\",\n        width: \"25\",\n        height: \"25\",\n        fill: \"#4EA1D3\",\n        className: \"bi bi-star-fill\",\n        viewBox: \"0 0 16 16\",\n        children: /*#__PURE__*/_jsxDEV(\"path\", {\n          d: \"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this));\n    }\n    if (hasHalfStar) {\n      stars.push( /*#__PURE__*/_jsxDEV(\"svg\", {\n        xmlns: \"http://www.w3.org/2000/svg\",\n        width: \"25\",\n        height: \"25\",\n        fill: \"#4EA1D3\",\n        className: \"bi bi-star-half\",\n        viewBox: \"0 0 16 16\",\n        children: /*#__PURE__*/_jsxDEV(\"path\", {\n          d: \"M5.354 5.119 7.538.792A.516.516 0 0 1 8 .5c.183 0 .366.097.465.292l2.184 4.327 4.898.696A.537.537 0 0 1 16 6.32a.548.548 0 0 1-.17.445l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256a.52.52 0 0 1-.146.05c-.342.06-.668-.254-.6-.642l.83-4.73L.173 6.765a.55.55 0 0 1-.172-.403.58.58 0 0 1 .085-.302.513.513 0 0 1 .37-.245l4.898-.696zM8 12.027a.5.5 0 0 1 .232.056l3.686 1.894-.694-3.957a.565.565 0 0 1 .162-.505l2.907-2.77-4.052-.576a.525.525 0 0 1-.393-.288L8.001 2.223 8 2.226v9.8z\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this)\n      }, \"half\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this));\n    }\n    const remainingStars = 5 - fullStars - (hasHalfStar ? 1 : 0);\n    for (let i = 0; i < remainingStars; i++) {\n      stars.push( /*#__PURE__*/_jsxDEV(\"svg\", {\n        xmlns: \"http://www.w3.org/2000/svg\",\n        width: \"25\",\n        height: \"25\",\n        fill: \"#4EA1D3\",\n        className: \"bi bi-star\",\n        viewBox: \"0 0 16 16\",\n        children: /*#__PURE__*/_jsxDEV(\"path\", {\n          d: \"M8 13.187l-4.389 2.256c-.386.198-.824-.149-.746-.592l.83-4.73-3.522-3.356c-.386-.443-.149-1.149.282-.95l4.898.696 2.184-4.327c.197-.39.73-.39.927 0l2.184 4.327 4.898-.696c.441-.062.668.507.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187zm0-11.962v10.775l3.793 2.051-.723-4.12a.527.527 0 0 1 .152-.476l3.117-2.972-4.324-.615a.532.532 0 0 1-.405-.295L8 1.225z\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this)\n      }, `empty_${i}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this));\n    }\n    return stars;\n  };\n\n  // FILTERS LOGIC.\n  const filterProfessionals = (professionals, selectedFilter, searchTerm) => {\n    return professionals.filter(professional => {\n      const matchesSearch = professional.name.toLowerCase().includes(searchTerm.toLowerCase()) || professional.profession.toLowerCase().includes(searchTerm.toLowerCase()) || professional.specialisation.toLowerCase().includes(searchTerm.toLowerCase()) || professional.address.toLowerCase().includes(searchTerm.toLowerCase());\n      const matchesFilter = selectedFilter === \"all\" || calculateAverageRating(professional) >= selectedFilter;\n      return matchesSearch && matchesFilter;\n    });\n  };\n  const filteredProfessionals = filterProfessionals(professionals, selectedFilter, searchTerm);\n\n  // Function to handle filter change\n  const handleFilterChange = filter => {\n    setSelectedFilter(filter);\n  };\n\n  // Function to handle search input change\n  const handleSearchChange = event => {\n    setSearchTerm(event.target.value);\n  };\n\n  // Function to handle sorting\n  const handleSort = sortBy => {\n    let sortedProfessionals = [...professionals];\n    switch (sortBy) {\n      case 'priceLowToHigh':\n        sortedProfessionals.sort((a, b) => a.fees - b.fees);\n        break;\n      case 'priceHighToLow':\n        sortedProfessionals.sort((a, b) => b.fees - a.fees);\n        break;\n      case 'ratings':\n        sortedProfessionals.sort((a, b) => {\n          const ratingA = calculateAverageRating(a);\n          const ratingB = calculateAverageRating(b);\n          return ratingB - ratingA;\n        });\n        break;\n      default:\n        break;\n    }\n    setProfessionals(sortedProfessionals);\n  };\n\n  // Function to handle profession filter change\n  const handleProfessionChange = profession => {\n    let filteredProfessionals = [];\n    switch (profession) {\n      case 'doctor':\n        filteredProfessionals = professionals.filter(professional => professional.profession.toLowerCase() === 'doctor');\n        break;\n      case 'lawyer':\n        filteredProfessionals = professionals.filter(professional => professional.profession.toLowerCase() === 'lawyer');\n        break;\n      case 'therapist':\n        filteredProfessionals = professionals.filter(professional => professional.profession.toLowerCase() === 'therapist');\n        break;\n      case 'counsellor':\n        filteredProfessionals = professionals.filter(professional => professional.profession.toLowerCase() === 'counsellor');\n        break;\n      default:\n        filteredProfessionals = professionals; // Show all professionals if no specific profession selected\n        break;\n    }\n\n    // Update the filtered professionals\n    setProfessionals(filteredProfessionals);\n  };\n\n  // Function to reset filters\n  const resetFilters = () => {\n    setSelectedFilter('all'); // Reset selected filter to 'all'\n    setSearchTerm(''); // Reset search term to empty string\n    setProfessionals(getProfessionals); // Reset professionals list to the original list fetched from API\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-fluid no-padding\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mx-5 filters\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dropdown mt-2 mr-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              style: {\n                backgroundColor: '#9AA4EC',\n                fontWeight: 700,\n                border: '1px solid #9aa4ec'\n              },\n              className: \"btn btn-secondary dropdown-toggle\",\n              type: \"button\",\n              id: \"dropdownMenuButton\",\n              \"data-toggle\": \"dropdown\",\n              \"aria-haspopup\": \"true\",\n              \"aria-expanded\": \"false\",\n              children: \"Sort\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"dropdown-menu\",\n              \"aria-labelledby\": \"dropdownMenuButton\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"dropdown-item\",\n                onClick: () => handleSort('priceLowToHigh'),\n                children: \"Price (Low to High)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"dropdown-item\",\n                onClick: () => handleSort('priceHighToLow'),\n                children: \"Price (High to Low)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"dropdown-item\",\n                onClick: () => handleSort('ratings'),\n                children: \"Ratings\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            className: \"form-inline my-2 my-lg-0\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"form-control mr-sm-2\",\n              type: \"search\",\n              placeholder: \"Search Professionals\",\n              \"aria-label\": \"Search\",\n              value: searchTerm,\n              onChange: handleSearchChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"fil-btn\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn text-white py-2\",\n              style: {\n                backgroundColor: '#9AA4EC',\n                fontWeight: 700,\n                border: '1px solid #9aa4ec'\n              },\n              onClick: () => handleFilterChange(4),\n              children: \"Ratings 4+\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 38\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"fil-btn\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn text-white py-2\",\n              style: {\n                backgroundColor: '#9AA4EC',\n                fontWeight: 700,\n                border: '1px solid #9aa4ec'\n              },\n              children: \"Location\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 38\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"fil-btn\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn text-white py-2\",\n              style: {\n                backgroundColor: '#9AA4EC',\n                fontWeight: 700,\n                border: '1px solid #9aa4ec'\n              },\n              onClick: resetFilters,\n              children: \"Reset Filters\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 38\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dropdown mt-2 mr-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              style: {\n                backgroundColor: '#9AA4EC',\n                fontWeight: 700,\n                border: '1px solid #9aa4ec'\n              },\n              className: \"btn btn-secondary dropdown-toggle\",\n              type: \"button\",\n              id: \"dropdownMenuButton\",\n              \"data-toggle\": \"dropdown\",\n              \"aria-haspopup\": \"true\",\n              \"aria-expanded\": \"false\",\n              children: \"Profession\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"dropdown-menu\",\n              \"aria-labelledby\": \"dropdownMenuButton\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"dropdown-item\",\n                onClick: () => handleProfessionChange('doctor'),\n                children: \"Doctor\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"dropdown-item\",\n                onClick: () => handleProfessionChange('lawyer'),\n                children: \"Lawyer\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"dropdown-item\",\n                onClick: () => handleProfessionChange('therapist'),\n                children: \"Therapist\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"dropdown-item\",\n                onClick: () => handleProfessionChange('counsellor'),\n                children: \"Counsellor\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 px-5\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            style: {\n              height: '15vh'\n            },\n            className: \"mt-3 banner-img\",\n            src: banner\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-9 px-5\",\n          style: {\n            height: '700px',\n            overflow: 'scroll'\n          },\n          children: filteredProfessionals.map((item, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: () => goToProfessional(item._id),\n            className: \"card mb-3 mt-3\",\n            style: {\n              width: '100%',\n              boxShadow: '0 0 10px grey',\n              cursor: 'pointer',\n              borderRadius: '10px',\n              overflow: 'hidden'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row g-0\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-2\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: user_img,\n                  className: \"img-fluid rounded-start\",\n                  alt: \"Profile\",\n                  style: {\n                    height: '100%',\n                    borderRadius: '10px 0 0 10px'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 273,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-7\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"card-body\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                    className: \"card-title\",\n                    style: {\n                      fontWeight: 700\n                    },\n                    children: item.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 277,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"card-text\",\n                    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"px-2 py-1 text-white mr-3\",\n                      style: {\n                        backgroundColor: '#F4A4A4',\n                        borderRadius: '7px'\n                      },\n                      children: isNaN(calculateAverageRating(item)) ? 0.0 : calculateAverageRating(item).toFixed(1)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 279,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"stars\",\n                      children: generateStarIcons(calculateAverageRating(item))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 283,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                      className: \"mx-3\",\n                      children: [\" \", item.reviews.length, \" Ratings \"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 286,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 278,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"card-text\",\n                    children: [item.profession, \" - \", item.specialisation]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 288,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"card-text\",\n                    children: [\"Fees: \", item.fees, \" per session\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 291,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"card-text text-secondary\",\n                    children: item.address\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 294,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 276,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-3 m-auto\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn text-white py-2\",\n                  style: {\n                    backgroundColor: '#9AA4EC',\n                    fontWeight: 700,\n                    border: '1px solid #9aa4ec',\n                    borderRadius: '0 10px 10px 0'\n                  },\n                  children: \"Book Your Appointment\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 300,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 17\n            }, this)\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-3 px-5\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"side-img\",\n            src: ad\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(UserHomePage, \"3QTpoeMfiwLV8NtnUsYooH1121M=\", false, function () {\n  return [useNavigate];\n});\n_c = UserHomePage;\nexport default UserHomePage;\nvar _c;\n$RefreshReg$(_c, \"UserHomePage\");","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","user_img","banner","ad","Navbar","Footer","jsxDEV","_jsxDEV","Fragment","_Fragment","UserHomePage","setProfId","_s","navigate","professionals","setProfessionals","selectedFilter","setSelectedFilter","searchTerm","setSearchTerm","getProfessionals","response","fetch","method","headers","json","console","log","localStorage","getItem","goToProfessional","professionalId","newProfId","calculateAverageRating","professional","totalRatings","numberOfRatings","reviews","length","forEach","review","parseInt","rate","generateStarIcons","rating","fullStars","Math","floor","hasHalfStar","stars","i","push","xmlns","width","height","fill","className","viewBox","children","d","fileName","_jsxFileName","lineNumber","columnNumber","remainingStars","filterProfessionals","filter","matchesSearch","name","toLowerCase","includes","profession","specialisation","address","matchesFilter","filteredProfessionals","handleFilterChange","handleSearchChange","event","target","value","handleSort","sortBy","sortedProfessionals","sort","a","b","fees","ratingA","ratingB","handleProfessionChange","resetFilters","style","backgroundColor","fontWeight","border","type","id","onClick","placeholder","onChange","src","overflow","map","item","_id","boxShadow","cursor","borderRadius","alt","isNaN","toFixed","_c","$RefreshReg$"],"sources":["C:/Users/Arnav/OneDrive/Desktop/BookMySlot-main/Client/src/Pages/User-Home-Page/UserHomePage.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport user_img from '../../Pages/User-Home-Page/images/reshma.png'\nimport \"./card.css\";\nimport banner from \"./images/banner-doctor.jpg\"\nimport ad from \"./images/ad-counsellor.jpg\"\nimport Navbar from \"../../Components/Navbar/Navbar\";\nimport Footer from \"../../Components/Footer/Footer\";\n\nconst UserHomePage = ({ setProfId }) => {\n  let navigate = useNavigate();\n  const [professionals, setProfessionals] = useState([]);\n  const [selectedFilter, setSelectedFilter] = useState('all');\n  const [searchTerm, setSearchTerm] = useState('');\n\n  const getProfessionals = async () => {\n    // API call.\n    const response = await fetch(\n      `http://localhost:5000/api/getAll/fetchProfessionals`,\n      {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      }\n    );\n    const json = await response.json();\n    console.log(json);\n    setProfessionals(json);\n  };\n\n  useEffect(() => {\n    if (localStorage.getItem(\"token\")) {\n      getProfessionals();\n      //eslint-disable-next-line\n    } else {\n      navigate(\"/user/login\");\n    }\n  }, []);\n\n  const goToProfessional = (professionalId) => {\n    const newProfId = professionalId;\n    setProfId(newProfId);\n    navigate(`/user/professional/${professionalId}`);\n  };\n\n\n  // Function to calculate average rating for a professional\n  const calculateAverageRating = (professional) => {\n    let totalRatings = 0;\n    let numberOfRatings = professional.reviews.length;\n    if (numberOfRatings === 0) {\n      return 0;\n    }\n    professional.reviews.forEach((review) => {\n      totalRatings += parseInt(review.rate);\n    });\n    console.log(totalRatings / numberOfRatings);\n    return totalRatings / numberOfRatings;\n  };\n\n\n  // Function to generate star icons based on the rating\n  const generateStarIcons = (rating) => {\n    const fullStars = Math.floor(rating);\n    const hasHalfStar = rating % 1 !== 0;\n    const stars = [];\n\n    for (let i = 0; i < fullStars; i++) {\n      stars.push(\n        <svg\n          key={i}\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width=\"25\"\n          height=\"25\"\n          fill=\"#4EA1D3\"\n          className=\"bi bi-star-fill\"\n          viewBox=\"0 0 16 16\"\n        >\n          <path d=\"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z\" />\n        </svg>\n      );\n    }\n\n    if (hasHalfStar) {\n      stars.push(\n        <svg\n          key=\"half\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width=\"25\"\n          height=\"25\"\n          fill=\"#4EA1D3\"\n          className=\"bi bi-star-half\"\n          viewBox=\"0 0 16 16\"\n        >\n          <path d=\"M5.354 5.119 7.538.792A.516.516 0 0 1 8 .5c.183 0 .366.097.465.292l2.184 4.327 4.898.696A.537.537 0 0 1 16 6.32a.548.548 0 0 1-.17.445l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256a.52.52 0 0 1-.146.05c-.342.06-.668-.254-.6-.642l.83-4.73L.173 6.765a.55.55 0 0 1-.172-.403.58.58 0 0 1 .085-.302.513.513 0 0 1 .37-.245l4.898-.696zM8 12.027a.5.5 0 0 1 .232.056l3.686 1.894-.694-3.957a.565.565 0 0 1 .162-.505l2.907-2.77-4.052-.576a.525.525 0 0 1-.393-.288L8.001 2.223 8 2.226v9.8z\" />\n        </svg>\n      );\n    }\n\n    const remainingStars = 5 - fullStars - (hasHalfStar ? 1 : 0);\n\n    for (let i = 0; i < remainingStars; i++) {\n      stars.push(\n        <svg\n          key={`empty_${i}`}\n          xmlns=\"http://www.w3.org/2000/svg\"\n          width=\"25\"\n          height=\"25\"\n          fill=\"#4EA1D3\"\n          className=\"bi bi-star\"\n          viewBox=\"0 0 16 16\"\n        >\n          <path d=\"M8 13.187l-4.389 2.256c-.386.198-.824-.149-.746-.592l.83-4.73-3.522-3.356c-.386-.443-.149-1.149.282-.95l4.898.696 2.184-4.327c.197-.39.73-.39.927 0l2.184 4.327 4.898-.696c.441-.062.668.507.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187zm0-11.962v10.775l3.793 2.051-.723-4.12a.527.527 0 0 1 .152-.476l3.117-2.972-4.324-.615a.532.532 0 0 1-.405-.295L8 1.225z\" />\n        </svg>\n      );\n    }\n\n    return stars;\n  };\n\n  // FILTERS LOGIC.\n  const filterProfessionals = (professionals, selectedFilter, searchTerm) => {\n    return professionals.filter((professional) => {\n      const matchesSearch =\n        professional.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        professional.profession.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        professional.specialisation.toLowerCase().includes(searchTerm.toLowerCase()) ||\n        professional.address.toLowerCase().includes(searchTerm.toLowerCase());\n\n      const matchesFilter =\n        selectedFilter === \"all\" ||\n        calculateAverageRating(professional) >= selectedFilter;\n\n      return matchesSearch && matchesFilter;\n    });\n  };\n\n  const filteredProfessionals = filterProfessionals(\n    professionals,\n    selectedFilter,\n    searchTerm\n  );\n\n  // Function to handle filter change\n  const handleFilterChange = (filter) => {\n    setSelectedFilter(filter);\n  };\n\n  // Function to handle search input change\n  const handleSearchChange = (event) => {\n    setSearchTerm(event.target.value);\n  };\n\n  // Function to handle sorting\n  const handleSort = (sortBy) => {\n    let sortedProfessionals = [...professionals];\n\n    switch (sortBy) {\n      case 'priceLowToHigh':\n        sortedProfessionals.sort((a, b) => a.fees - b.fees);\n        break;\n      case 'priceHighToLow':\n        sortedProfessionals.sort((a, b) => b.fees - a.fees);\n        break;\n      case 'ratings':\n        sortedProfessionals.sort((a, b) => {\n          const ratingA = calculateAverageRating(a);\n          const ratingB = calculateAverageRating(b);\n          return ratingB - ratingA;\n        });\n        break;\n      default:\n        break;\n    }\n\n    setProfessionals(sortedProfessionals);\n  };\n\n  // Function to handle profession filter change\nconst handleProfessionChange = (profession) => {\n  let filteredProfessionals = [];\n\n  switch (profession) {\n    case 'doctor':\n      filteredProfessionals = professionals.filter(professional => professional.profession.toLowerCase() === 'doctor');\n      break;\n    case 'lawyer':\n      filteredProfessionals = professionals.filter(professional => professional.profession.toLowerCase() === 'lawyer');\n      break;\n    case 'therapist':\n      filteredProfessionals = professionals.filter(professional => professional.profession.toLowerCase() === 'therapist');\n      break;\n    case 'counsellor':\n      filteredProfessionals = professionals.filter(professional => professional.profession.toLowerCase() === 'counsellor');\n      break;\n    default:\n      filteredProfessionals = professionals; // Show all professionals if no specific profession selected\n      break;\n  }\n\n  // Update the filtered professionals\n  setProfessionals(filteredProfessionals);\n};\n\n\n  // Function to reset filters\n  const resetFilters = () => {\n    setSelectedFilter('all'); // Reset selected filter to 'all'\n    setSearchTerm(''); // Reset search term to empty string\n    setProfessionals(getProfessionals); // Reset professionals list to the original list fetched from API\n  };\n\n\n\n  return (\n    <>\n      <Navbar />\n\n      <div className=\"container-fluid no-padding\">\n        <div className=\"row\">\n          <div className=\"mx-5 filters\" >\n            <div className=\"dropdown mt-2 mr-3\">\n              <button style={{ backgroundColor: '#9AA4EC', fontWeight: 700, border: '1px solid #9aa4ec' }} className=\"btn btn-secondary dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                Sort\n              </button>\n              <div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\n                <button className=\"dropdown-item\" onClick={() => handleSort('priceLowToHigh')}>Price (Low to High)</button>\n                <button className=\"dropdown-item\" onClick={() => handleSort('priceHighToLow')}>Price (High to Low)</button>\n                <button className=\"dropdown-item\" onClick={() => handleSort('ratings')}>Ratings</button>\n              </div>\n            </div>\n\n            <form className=\"form-inline my-2 my-lg-0\">\n              <input\n                className=\"form-control mr-sm-2\"\n                type=\"search\"\n                placeholder=\"Search Professionals\"\n                aria-label=\"Search\"\n                value={searchTerm}\n                onChange={handleSearchChange}\n              />\n            </form>\n            <div className=\"fil-btn\"><button className=\"btn text-white py-2\" style={{ backgroundColor: '#9AA4EC', fontWeight: 700, border: '1px solid #9aa4ec' }} onClick={() => handleFilterChange(4)}>Ratings 4+</button></div>\n            <div className=\"fil-btn\"><button className=\"btn text-white py-2\" style={{ backgroundColor: '#9AA4EC', fontWeight: 700, border: '1px solid #9aa4ec' }}>Location</button></div>\n            <div className=\"fil-btn\"><button className=\"btn text-white py-2\" style={{ backgroundColor: '#9AA4EC', fontWeight: 700, border: '1px solid #9aa4ec' }}  onClick={resetFilters}>Reset Filters</button></div>\n            {/* <button className=\"btn btn-danger\">Reset Filters</button> */}\n            <div className=\"dropdown mt-2 mr-3\">\n              <button style={{ backgroundColor: '#9AA4EC', fontWeight: 700, border: '1px solid #9aa4ec' }} className=\"btn btn-secondary dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                Profession\n              </button>\n              <div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\n                <button className=\"dropdown-item\" onClick={() => handleProfessionChange('doctor')}>Doctor</button>\n                <button className=\"dropdown-item\" onClick={() => handleProfessionChange('lawyer')}>Lawyer</button>\n                <button className=\"dropdown-item\" onClick={() => handleProfessionChange('therapist')}>Therapist</button>\n                <button className=\"dropdown-item\" onClick={() => handleProfessionChange('counsellor')}>Counsellor</button>\n\n              </div>\n            </div>\n          </div>\n          <div\n            className=\"col-12 px-5\"\n\n          >\n            <img style={{ height: '15vh' }} className=\"mt-3 banner-img\" src={banner}></img>\n          </div>\n\n          <div className=\"col-9 px-5\" style={{ height: '700px', overflow: 'scroll' }} >\n            {filteredProfessionals.map((item, i) => (\n              <div onClick={() => goToProfessional(item._id)} key={i} className=\"card mb-3 mt-3\" style={{ width: '100%', boxShadow: '0 0 10px grey', cursor: 'pointer', borderRadius: '10px', overflow: 'hidden' }}>\n                <div className=\"row g-0\">\n                  <div className=\"col-md-2\">\n                    <img src={user_img} className=\"img-fluid rounded-start\" alt=\"Profile\" style={{ height: '100%', borderRadius: '10px 0 0 10px' }} />\n                  </div>\n                  <div className=\"col-md-7\">\n                    <div className=\"card-body\">\n                      <h5 className=\"card-title\" style={{ fontWeight: 700 }}>{item.name}</h5>\n                      <p className=\"card-text\">\n                        <span className='px-2 py-1 text-white mr-3' style={{ backgroundColor: '#F4A4A4', borderRadius: '7px' }}>\n                          {isNaN(calculateAverageRating(item)) ? 0.0 : calculateAverageRating(item).toFixed(1)}\n                        </span>\n\n                        <span className=\"stars\">\n                          {generateStarIcons(calculateAverageRating(item))}\n                        </span>\n                        <small className=\"mx-3\"> {item.reviews.length} Ratings </small>\n                      </p>\n                      <p className=\"card-text\">\n                        {item.profession} - {item.specialisation}\n                      </p>\n                      <p className=\"card-text\">\n                        Fees: {item.fees} per session\n                      </p>\n                      <p className=\"card-text text-secondary\">\n                        {item.address}\n                      </p>\n                    </div>\n                  </div>\n                  <div className=\"col-md-3 m-auto\">\n                    <button className=\"btn text-white py-2\" style={{ backgroundColor: '#9AA4EC', fontWeight: 700, border: '1px solid #9aa4ec', borderRadius: '0 10px 10px 0' }}>Book Your Appointment</button>\n                  </div>\n                </div>\n              </div>\n\n            ))}\n          </div>\n\n          <div\n            className=\"col-3 px-5\"\n          >\n            <img className=\"side-img\" src={ad}></img>\n          </div>\n        </div>\n      </div>\n      <Footer />\n    </>\n  );\n};\n\nexport default UserHomePage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}